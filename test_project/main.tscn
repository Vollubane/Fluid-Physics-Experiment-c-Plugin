[gd_scene load_steps=4 format=3 uid="uid://hn8dh5y3yq6a"]

[ext_resource type="Script" uid="uid://gscsivoywwwo" path="res://main.gd" id="1_ig7tw"]
[ext_resource type="Script" uid="uid://cgi7rawnntj6g" path="res://node_3d.gd" id="2_0xm2m"]
[ext_resource type="Script" uid="uid://qxvmsw74266j" path="res://ui_control.gd" id="3_ui"]

[node name="Main" type="Node2D"]
script = ExtResource("1_ig7tw")

[node name="Node3D" type="Node3D" parent="."]
script = ExtResource("2_0xm2m")

[node name="FluidSimulator" type="FluidSimulator" parent="Node3D" node_paths=PackedStringArray("camera")]
max_particles = 20000
substeps = 6
camera = NodePath("../Camera3D")
num_threads = 4
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0079565)

[node name="MultiMeshInstance3D" type="MultiMeshInstance3D" parent="Node3D"]

[node name="Camera3D" type="Camera3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.54623)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Node3D"]
transform = Transform3D(1, 0, 0, 0, 0.873789, 0.486305, 0, -0.486305, 0.873789, 0, 0.998872, 1.32316)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("3_ui")

[node name="Panel" type="Panel" parent="CanvasLayer/UI"]
layout_mode = 0
offset_left = 20.0
offset_top = 20.0
offset_right = 320.0
offset_bottom = 400.0

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/UI/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="Title" type="Label" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2
text = "Verser un liquide (50L)"
horizontal_alignment = 1

[node name="Separator1" type="HSeparator" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="LiquidName" type="HBoxContainer" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="CanvasLayer/UI/Panel/VBoxContainer/LiquidName"]
layout_mode = 2
size_flags_horizontal = 3
text = "Nom du liquide:"

[node name="LineEdit" type="LineEdit" parent="CanvasLayer/UI/Panel/VBoxContainer/LiquidName"]
layout_mode = 2
size_flags_horizontal = 3
placeholder_text = "eau, huile..."

[node name="Separator2" type="HSeparator" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="ColorLabel" type="Label" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2
text = "Couleur:"

[node name="ColorPicker" type="ColorPickerButton" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Separator3" type="HSeparator" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Density" type="HBoxContainer" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="CanvasLayer/UI/Panel/VBoxContainer/Density"]
layout_mode = 2
size_flags_horizontal = 3
text = "Densité (kg/m³):"

[node name="SpinBox" type="SpinBox" parent="CanvasLayer/UI/Panel/VBoxContainer/Density"]
layout_mode = 2
size_flags_horizontal = 3
min_value = 1.0
max_value = 20000.0
step = 10.0
value = 1001.0

[node name="Separator4" type="HSeparator" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Restitution" type="HBoxContainer" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="CanvasLayer/UI/Panel/VBoxContainer/Restitution"]
layout_mode = 2
size_flags_horizontal = 3
text = "Restitution:"

[node name="SpinBox" type="SpinBox" parent="CanvasLayer/UI/Panel/VBoxContainer/Restitution"]
layout_mode = 2
size_flags_horizontal = 3
max_value = 1.0
step = 0.05

[node name="Separator5" type="HSeparator" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Viscosity" type="VBoxContainer" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="CanvasLayer/UI/Panel/VBoxContainer/Viscosity"]
layout_mode = 2
text = "Viscosité: 5.0"

[node name="HSlider" type="HSlider" parent="CanvasLayer/UI/Panel/VBoxContainer/Viscosity"]
layout_mode = 2
max_value = 50.0
step = 0.1
value = 5.0

[node name="Separator6" type="HSeparator" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2

[node name="PourButton" type="Button" parent="CanvasLayer/UI/Panel/VBoxContainer"]
layout_mode = 2
text = "Verser 50L"
